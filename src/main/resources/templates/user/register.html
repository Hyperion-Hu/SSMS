<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>注册</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"
          name="viewport">
    <link href="/styles/style.css" rel="stylesheet">
    <link href="/styles/bootstrap.min.css" rel="stylesheet">
    <script src="scripts/jquery-3.5.1.min.js" type="text/javascript"></script>
</head>
<body>
<div class="login-container">
    <div class="wrapper">
        <h3>注册</h3>
        <div id="alert" th:if="${#request.getAttribute('error')}">
            <div class="alert alert-dismissible alert-danger">
                <button class="close" data-dismiss="alert" type="button">&times;</button>
                <strong th:text="${#request.getAttribute('error')}"></strong>
            </div>
        </div>
        <form action="user/verify/register" id="form" method="post">
            <div class="form-group" id="username-textfield">
                <label class="control-label" for="username">账户</label>
                <input autofocus class="form-control input-lg" id="username" name="username" pattern="[A-z0-9]{6,10}"
                       required title="请输入6~10个字符"/>
            </div>
            <div class="form-group" id="nickname-textfield">
                <label class="control-label" for="nickname">昵称</label>
                <input class="form-control input-lg" id="nickname" name="nickname"
                       pattern="[\u4E00-\u9FA5A-Za-z0-9_]{1,30}" required title="昵称支持中文、英文、下划线，不超过30个字符"/>
            </div>
            <div class="form-group" id="password-textfield">
                <label class="control-label" for="password">创建密码</label>
                <input class="form-control input-lg" id="password" name="password" required type="text"/>
            </div>
            <div class="form-group" id="buttons">
                <input class="btn btn-primary btn-lg" onclick="" type="submit" value="注册"/>
                <a class="btn btn-link" href="/login">点此登录</a>
            </div>
        </form>
    </div>
</div>
<script type="text/javascript">
    // //注册
    // function register(){
    //     var uname = $("#username").val();
    //     var nname = $("#nickname").val();
    //     var pwd = $("#password").val();
    //     $.post("user/register",{username:uname,password:pwd,nickname:nname},function (data) {
    //         console.log(data);
    //
    //     });
    // }

    // //当用户名输入框失去焦点，执行用户名验证
    // $(document).ready(function(){
    //     $("#username").blur(function(){
    //         var uname = $("#username").val();
    //         $.post("user/verify",{username:uname},function (data) {
    //             console.log(data);
    //             if (data===1){
    //                 $("#username").append("<p style='color: red'>此用户已存在</p>");
    //                 $("form>div:eq(3)>input").removeAttr("onclick");
    //             }if (data===0){
    //                 $("form>div:eq(0)>p").remove();
    //             }
    //         })
    //     });
    // });

    // //当body中有按键按下时触发
    // $("body").keydown(function (event) {
    //     if (event.keyCode===13){
    //         //触发登录按钮事件
    //         register();
    //     }
    // });

</script>
</body>
</html>
